# IoT Device Simulator

–ü—Ä–æ—Å—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –Ω–∞ Python, —è–∫–∞ —ñ–º—ñ—Ç—É—î IoT-–ø—Ä–∏—Å—Ç—Ä—ñ–π –∑ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—î—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏ —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–æ—é –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ HTTP POST.

## –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

- –ì–µ–Ω–µ—Ä—É—î –≤–∏–ø–∞–¥–∫–æ–≤—É —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –≤—ñ–¥ 20 –¥–æ 30¬∞C –∫–æ–∂–Ω—ñ 5 —Å–µ–∫—É–Ω–¥
- –í—ñ–¥–ø—Ä–∞–≤–ª—è—î –¥–∞–Ω—ñ —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON —á–µ—Ä–µ–∑ HTTP POST
- –ú—ñ—Å—Ç–∏—Ç—å device_id, temperature, unit —Ç–∞ timestamp
- –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –º–µ—Ä–µ–∂—ñ —Ç–∞ –≤–∏–Ω—è—Ç–∫—ñ–≤
- –ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π —Ü–∏–∫–ª —Ä–æ–±–æ—Ç–∏ –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –∑—É–ø–∏–Ω–∫–∏ (Ctrl+C)

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è pip
```bash
pip install -r requirements.txt
```

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –ü—Ä—è–º–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
```bash
pip install requests flask
```

### –í–∞—Ä—ñ–∞–Ω—Ç 3: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
python -m venv iot_env

# –ê–∫—Ç–∏–≤–∞—Ü—ñ—è (Linux/Mac)
source iot_env/bin/activate

# –ê–∫—Ç–∏–≤–∞—Ü—ñ—è (Windows)
iot_env\Scripts\activate

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
pip install -r requirements.txt
```

## –®–≤–∏–¥–∫–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –¢–µ—Å—Ç –±–µ–∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–∞
```bash
python quick_test.py
```
–¶–µ–π —Å–∫—Ä–∏–ø—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î httpbin.org –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —ñ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î 3 –∑–∞–ø–∏—Ç–∏ –∑ —ñ–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 5 —Å–µ–∫—É–Ω–¥.

### –õ–æ–∫–∞–ª—å–Ω–∏–π —Ç–µ—Å—Ç–æ–≤–∏–π —Å–µ—Ä–≤–µ—Ä
```bash
# –¢–µ—Ä–º—ñ–Ω–∞–ª 1: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
python test_server.py

# –¢–µ—Ä–º—ñ–Ω–∞–ª 2: –ó–º—ñ–Ω—ñ—Ç—å URL –≤ iot_device.py –Ω–∞:
# webhook_url = "http://localhost:5000/webhook"
# –ü–æ—Ç—ñ–º –∑–∞–ø—É—Å—Ç—ñ—Ç—å:
python iot_device.py
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ñ–∞–π–ª `iot_device.py`
2. –ó–∞–º—ñ–Ω—ñ—Ç—å URL —É –∑–º—ñ–Ω–Ω—ñ–π `webhook_url` –Ω–∞ —Å–≤—ñ–π endpoint:

```python
webhook_url = "https://your-webhook-url.com/endpoint"
```

### –ü—Ä–∏–∫–ª–∞–¥–∏ webhook —Å–µ—Ä–≤—ñ—Å—ñ–≤ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:

- **httpbin.org**: https://httpbin.org/post (–¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)
- **webhook.site**: https://webhook.site/ (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π —Å–µ—Ä–≤—ñ—Å –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)
- **ngrok**: –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- **RequestBin**: https://requestbin.com/

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–∏

```bash
python iot_device.py
```

## –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–≤–æ–¥—É

```
üöÄ IoT –ø—Ä–∏—Å—Ç—Ä—ñ–π 550e8400-e29b-41d4-a716-446655440000 –∑–∞–ø—É—â–µ–Ω–æ
üì° –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–∏—Ö –Ω–∞: https://webhook.site/your-unique-url
‚è±Ô∏è  –Ü–Ω—Ç–µ—Ä–≤–∞–ª: 5 —Å–µ–∫—É–Ω–¥
--------------------------------------------------
‚úÖ –î–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ: 24.67¬∞C
‚úÖ –î–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ: 27.89¬∞C
‚úÖ –î–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ: 22.34¬∞C
```

## –§–æ—Ä–º–∞—Ç –¥–∞–Ω–∏—Ö

–ü—Ä–æ–≥—Ä–∞–º–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î JSON —É —Ç–∞–∫–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ:

```json
{
    "device_id": "550e8400-e29b-41d4-a716-446655440000",
    "temperature": 24.67,
    "unit": "celsius",
    "timestamp": "2024-01-15T10:30:45.123456"
}
```

## –ó—É–ø–∏–Ω–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–∏

–î–ª—è –∑—É–ø–∏–Ω–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–∏ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å `Ctrl+C` –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ.

## –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

–ü—Ä–æ–≥—Ä–∞–º–∞ –æ–±—Ä–æ–±–ª—è—î –Ω–∞—Å—Ç—É–ø–Ω—ñ —Ç–∏–ø–∏ –ø–æ–º–∏–ª–æ–∫:
- –ü–æ–º–∏–ª–∫–∏ –º–µ—Ä–µ–∂—ñ (ConnectionError, TimeoutError)
- HTTP –ø–æ–º–∏–ª–∫–∏ (4xx, 5xx —Å—Ç–∞—Ç—É—Å–∏)
- –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø–æ–º–∏–ª–∫–∏ –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤

–í–∏ –º–æ–∂–µ—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤ –∫–æ–¥—ñ:

```python
# –î—ñ–∞–ø–∞–∑–æ–Ω —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏
self.min_temp = 20  # –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
self.max_temp = 30  # –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞

# –Ü–Ω—Ç–µ—Ä–≤–∞–ª –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
time.sleep(5)  # –∑–∞—Ç—Ä–∏–º–∫–∞ –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏

# Timeout –¥–ª—è HTTP –∑–∞–ø–∏—Ç—ñ–≤
timeout=10  # —Å–µ–∫—É–Ω–¥–∏
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
‚îú‚îÄ‚îÄ iot_device.py      # –û—Å–Ω–æ–≤–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ IoT –ø—Ä–∏—Å—Ç—Ä–æ—é
‚îú‚îÄ‚îÄ test_server.py     # –õ–æ–∫–∞–ª—å–Ω–∏–π —Ç–µ—Å—Ç–æ–≤–∏–π —Å–µ—Ä–≤–µ—Ä (Flask)
‚îú‚îÄ‚îÄ quick_test.py      # –®–≤–∏–¥–∫–∏–π —Ç–µ—Å—Ç –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ requirements.txt   # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Python
‚îî‚îÄ‚îÄ README.md         # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
``` 